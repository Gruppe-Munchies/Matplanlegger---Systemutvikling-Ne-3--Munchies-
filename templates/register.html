{% extends 'base.html' %}
{% block title %}Registrer deg som bruker{% endblock %}
{% block heading %}Registrer deg som bruker{% endblock %}
{% block description %}Bli med i en Munchbase, eller lag din egen! Registrer deg her!{% endblock %}
{% block content %}
    {% include 'flash_messages.html' %}


    <div class="container" style="max-width: 1000px;">
        <h1 class="fw-light">Registrer deg som bruker</h1>


        <form method="POST" action="{{ url_for('auth.register') }}" class="row">
            {{ form.csrf_token }}


            <div class="form-group w-50 p-3">
                {{ form.username(class="form-control",placeholder="brukernavn") }}
            </div>

            <div class="form-group w-50 p-3">
                {{ form.email(class="form-control",placeholder="email",pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$") }}
            </div>

            <div class="form-group w-50 p-3">
                {{ form.firstname(class="form-control",placeholder="fornavn") }}
            </div>


            <div class="form-group w-50 p-3">
                {{ form.lastname(class="form-control",placeholder="etternavn") }}
            </div>


            <div class="form-group w-50 p-3">
                {{ form.password(class="form-control",placeholder="passord") }}
            </div>

            <script>
                function show_hide_group_name_input(cb_group_name_input) {
                    let group_name_input_div = document.getElementById("group_name_input_div");
                    group_name_input_div.style.display = cb_group_name_input.checked ? "block" : "none";
                }
            </script>

            <div class="form-group w-50 p-3">
                {{ form.confirm(class="form-control",placeholder="gjenta passord") }}
            </div>
            <div class="row">
                <div class="col-auto">
                    <div class="form-check mb-2">
                        <label>
                            <input type="checkbox" id="cb_group_name_input" onclick="show_hide_group_name_input(this)"
                                   class="form-check-input"
                                   name="addGroup"
                                   value="yes"
                                   checked>
                            Opprett ny gruppe
                        </label>
                    </div>
                </div>
                <div class="col" id="group_name_input_div">
                    {{ form.group_name(class="form-control", placeholder="gruppenavn") }}
                </div>
            </div>

            <div class="form-group w-50 p-3"></div>

            <div class="form-group w-100 p-3">
                {{ form.submit(class_="btn btn-success") }}
            </div>

        </form>
    </div>


    {#    <script>#}
    {#        let checkbox = document.getElementById("cb_group_name_input").checked = true;#}
    {#    </script>#}

{% endblock %}

